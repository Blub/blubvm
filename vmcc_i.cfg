set _ver_vmcc 1

// example use:
// cc x = 3 + y
// cc x = y = z = 5

set _cc_func nop

// for unknown code, move one param into eax and return
alias _cc_return "set eax \"$1\""

alias __cc_dofunc "$_cc_func ${* asis}"

// assiciation types: < < <do this> then this > then this>
// < do this < after this <after this> > >

alias cc "_cc_right _cc_assign = _cc_ident ${* asis}"
// _cc_right <operation name> <operator> <next operation> <code>
alias _cc_right "__cc_right ${* asis}" // opfunc op opnext (o1 op o2)
alias __cc_right "mov _cc_func \"$5\"; toggle _cc_func $3 $2 $1; __cc_dofunc ${4- asis}"

alias _cc_ident "set eax \"$1\""

alias _cc_assign "_cc_right _cc_addop + _cc_ident ${3- asis} _ _; _cc_assign1 $1"
alias _cc_assign1 "menu_cmd rpn /$1 $eax def"

alias _cc_addop "_cc_right _cc_adop + _cc_ident ${3- asis} _ _; _cc_addop1 $1"
alias _cc_addop1 "menu_cmd rpn /eax $1 eax + def"
